<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>jp_mobile_carriers module &mdash; doc 1 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="doc 1 documentation" href="index.html" />
    <link rel="next" title="main module" href="main.html" />
    <link rel="prev" title="jautils module" href="jautils.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-jp_mobile_carriers">
<span id="jp-mobile-carriers-module"></span><h1>jp_mobile_carriers module<a class="headerlink" href="#module-jp_mobile_carriers" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="jp_mobile_carriers.docomo_has_messages">
<code class="descclassname">jp_mobile_carriers.</code><code class="descname">docomo_has_messages</code><span class="sig-paren">(</span><em>scrape</em><span class="sig-paren">)</span><a class="headerlink" href="#jp_mobile_carriers.docomo_has_messages" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if Docomo has messages for a number being inquired in its own
system, that is, the given scrape contains urls for the stored messages.
Args:</p>
<blockquote>
<div>scrape: the scraped content from Docomo.</div></blockquote>
<dl class="docutils">
<dt>Returns:</dt>
<dd>True if Docomo has messaes, and False otherwise.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="jp_mobile_carriers.extract_redirect_url">
<code class="descclassname">jp_mobile_carriers.</code><code class="descname">extract_redirect_url</code><span class="sig-paren">(</span><em>scrape</em><span class="sig-paren">)</span><a class="headerlink" href="#jp_mobile_carriers.extract_redirect_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Tries to extract a further redirect URL for the correct mobile carrier
page from the given page scraped from Docomo. If finds a further redirect
url to other carrier&#8217;s page, returns that final destination url, otherwise
returns None.
Args:</p>
<blockquote>
<div>scrape: the scraped content from the url.</div></blockquote>
<dl class="docutils">
<dt>Returns:</dt>
<dd>url for further redirect to an appropriate mobile carrier&#8217;s message
board page if it&#8217;s found, otherwise None.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="jp_mobile_carriers.get_docomo_post_data">
<code class="descclassname">jp_mobile_carriers.</code><code class="descname">get_docomo_post_data</code><span class="sig-paren">(</span><em>number</em>, <em>hidden_param</em><span class="sig-paren">)</span><a class="headerlink" href="#jp_mobile_carriers.get_docomo_post_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a mapping for POST data to Docomo&#8217;s url to inquire for messages
for the given number.
Args:</p>
<blockquote>
<div>number: a normalized mobile number.</div></blockquote>
<dl class="docutils">
<dt>Returns:</dt>
<dd>a mapping for the POST data.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="jp_mobile_carriers.get_phone_number">
<code class="descclassname">jp_mobile_carriers.</code><code class="descname">get_phone_number</code><span class="sig-paren">(</span><em>string</em><span class="sig-paren">)</span><a class="headerlink" href="#jp_mobile_carriers.get_phone_number" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalize the given string, which may be a phone number, and returns
a normalized phone number if the string is a phone number, or None
otherwise. Gets rid of separator characters, converts unicode characters to
ascii chars, and if the phone number contains the country code for Japan
(81), strips of the code and prepend &#8216;0&#8217;.
Args:</p>
<blockquote>
<div>string: unicode string to normalize.</div></blockquote>
<dl class="docutils">
<dt>Returns:</dt>
<dd>A normalized phone number if the input string is phone number, or
None otherwise.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="jp_mobile_carriers.handle_phone_number">
<code class="descclassname">jp_mobile_carriers.</code><code class="descname">handle_phone_number</code><span class="sig-paren">(</span><em>handler</em>, <em>query</em><span class="sig-paren">)</span><a class="headerlink" href="#jp_mobile_carriers.handle_phone_number" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles a phone number query. If the query is a mobile phone number,
looks up the number for registered messages in the mobile carriers-provided
message board services and redirects to the results page. If the query is a
non-mobile phone number, shows a 171 suggestion.
Args:</p>
<blockquote>
<div>handler: a request handler for this request.
query: a query string to the Person Finder query page.</div></blockquote>
<dl class="docutils">
<dt>Returns:</dt>
<dd>True if the query string is a phone number and has been properly
handled, and False otherwise.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="jp_mobile_carriers.is_mobile_number">
<code class="descclassname">jp_mobile_carriers.</code><code class="descname">is_mobile_number</code><span class="sig-paren">(</span><em>string</em><span class="sig-paren">)</span><a class="headerlink" href="#jp_mobile_carriers.is_mobile_number" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests the given string matches the pattern for the Japanese mobile phone
number.
Args:</p>
<blockquote>
<div>string: unicode string that is stripped of phone number separators such
as &#8216;(&#8216;, &#8216;)&#8217;, and &#8216;-&#8216; and converted into ascii numeric characters.</div></blockquote>
<dl class="docutils">
<dt>Returns:</dt>
<dd>True if the string is a Jp mobile phone number, and False otherwise.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="jp_mobile_carriers.look_up_number">
<code class="descclassname">jp_mobile_carriers.</code><code class="descname">look_up_number</code><span class="sig-paren">(</span><em>number</em><span class="sig-paren">)</span><a class="headerlink" href="#jp_mobile_carriers.look_up_number" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up messages for the number, registered in the Japanese mobile
carriers-provided emergency message board services. The five Japanese mobile
carriers maintain separate message indices, but their systems can talk to
one another when they don&#8217;t find messages for the given number in their own
indices. This function first talks to Docomo&#8217;s system as a main entry point.
Docomo returns urls of registered messages if it finds ones in its system.
If it doesn&#8217;t, Docomo&#8217;s system talks to the other 4 carriers&#8217; and returns an
url for an appropriate carrier if messages are found. If no messages are
found registered for the number, Docomo&#8217;s system simply indicates so.
Args:</p>
<blockquote>
<div>number: A mobile phone number.</div></blockquote>
<dl class="docutils">
<dt>Returns:</dt>
<dd>A url for messages found registered to some carrier (including Docomo)
or None if no are found.</dd>
<dt>Throws:</dt>
<dd>Exception when failed to scrape.</dd>
</dl>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="jautils.html" title="previous chapter">jautils module</a></li>
      <li>Next: <a href="main.html" title="next chapter">main module</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/jp_mobile_carriers.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2015, gb.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.6</a>
      
      |
      <a href="_sources/jp_mobile_carriers.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>